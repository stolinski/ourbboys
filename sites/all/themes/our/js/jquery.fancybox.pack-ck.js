/*! fancyBox v2.0.5 fancyapps.com | fancyapps.com/fancybox/#license */(function(a,b,c){var d=c(a),e=c(b),f=c.fancybox=function(){f.open.apply(this,arguments)},g=!1,h="undefined"!=typeof b.createTouch;c.extend(f,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!h,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!(c.browser.msie&&6>=c.browser.version)&&!h,scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(c.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){f.close(!0);a&&!c.isArray(a)&&(a=a instanceof c?c(a).get():[a]);f.isActive=!0;f.opts=c.extend(!0,{},f.defaults,b);c.isPlainObject(b)&&"undefined"!=typeof b.keys&&(f.opts.keys=b.keys?c.extend({},f.defaults.keys,b.keys):!1);f.group=a;f._start(f.opts.index||0)},cancel:function(){f.coming&&!1===f.trigger("onCancel")||(f.coming=null,f.hideLoading(),f.ajaxLoad&&f.ajaxLoad.abort(),f.ajaxLoad=null,f.imgPreload&&(f.imgPreload.onload=f.imgPreload.onabort=f.imgPreload.onerror=null))},close:function(a){f.cancel();f.current&&!1!==f.trigger("beforeClose")&&(f.unbindEvents(),!f.isOpen||a&&!0===a[0]?(c(".fancybox-wrap").stop().trigger("onReset").remove(),f._afterZoomOut()):(f.isOpen=f.isOpened=!1,c(".fancybox-item, .fancybox-nav").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(f.player.timer)},d=function(){b();f.current&&f.player.isActive&&(f.player.timer=setTimeout(f.next,f.current.playSpeed))},e=function(){b();c("body").unbind(".player");f.player.isActive=!1;f.trigger("onPlayEnd")};f.player.isActive||a&&!1===a[0]?e():f.current&&(f.current.loop||f.current.index<f.group.length-1)&&(f.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),f.trigger("onPlayStart"))},next:function(){f.current&&f.jumpto(f.current.index+1)},prev:function(){f.current&&f.jumpto(f.current.index-1)},jumpto:function(a){f.current&&(a=parseInt(a,10),1<f.group.length&&f.current.loop&&(a>=f.group.length?a=0:0>a&&(a=f.group.length-1)),"undefined"!=typeof f.group[a]&&(f.cancel(),f._start(a)))},reposition:function(a){f.isOpen&&f.wrap.css(f._getPosition(a))},update:function(a){f.isOpen&&(g||setTimeout(function(){var b=f.current;if(g&&(g=!1,b)){if(b.autoResize||a&&"orientationchange"===a.type)b.autoSize&&(f.inner.height("auto"),b.height=f.inner.height()),f._setDimension(),b.canGrow&&f.inner.height("auto");b.autoCenter&&f.reposition();f.trigger("onUpdate")}},100),g=!0)},toggle:function(){f.isOpen&&(f.current.fitToView=!f.current.fitToView,f.update())},hideLoading:function(){c("#fancybox-loading").remove()},showLoading:function(){f.hideLoading();c('<div id="fancybox-loading"><div></div></div>').click(f.cancel).appendTo("body")},getViewport:function(){return{x:d.scrollLeft(),y:d.scrollTop(),w:d.width(),h:d.height()}},unbindEvents:function(){f.wrap&&f.wrap.unbind(".fb");e.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var a=f.current,b=a.keys;a&&(d.bind("resize.fb, orientationchange.fb",f.update),b&&e.bind("keydown.fb",function(a){var d;!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&0>c.inArray(a.target.tagName.toLowerCase(),["input","textarea","select","button"])&&(d=a.keyCode,-1<c.inArray(d,b.close)?(f.close(),a.preventDefault()):-1<c.inArray(d,b.next)?(f.next(),a.preventDefault()):-1<c.inArray(d,b.prev)&&(f.prev(),a.preventDefault()))}),c.fn.mousewheel&&a.mouseWheel&&1<f.group.length&&f.wrap.bind("mousewheel.fb",function(a,b){var d=c(a.target).get(0);if(0===d.clientHeight||d.scrollHeight===d.clientHeight&&d.scrollWidth===d.clientWidth)a.preventDefault(),f[0<b?"prev":"next"]()}))},trigger:function(a){var b,d=f[-1<c.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(d){c.isFunction(d[a])&&(b=d[a].apply(d,Array.prototype.slice.call(arguments,1)));if(!1===b)return!1;d.helpers&&c.each(d.helpers,function(b,e){e&&"undefined"!=typeof f.helpers[b]&&c.isFunction(f.helpers[b][a])&&f.helpers[b][a](e,d)});c.event.trigger(a+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(a){var b={},d=f.group[a]||null,e,g,h;d&&(d.nodeType||d instanceof c)&&(e=!0,c.metadata&&(b=c(d).metadata()));b=c.extend(!0,{},f.opts,{index:a,element:d},c.isPlainObject(d)?d:b);c.each(["href","title","content","type"],function(a,g){b[g]=f.opts[g]||e&&c(d).attr(g)||b[g]||null});"number"==typeof b.margin&&(b.margin=[b.margin,b.margin,b.margin,b.margin]);b.modal&&c.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});f.coming=b;if(!1===f.trigger("beforeLoad"))f.coming=null;else{g=b.type;a=b.href||d;g||(e&&(h=c(d).data("fancybox-type"),!h&&d.className&&(g=(h=d.className.match(/fancybox\.(\w+)/))?h[1]:null)),!g&&"string"===c.type(a)&&(f.isImage(a)?g="image":f.isSWF(a)?g="swf":a.match(/^#/)&&(g="inline")),g||(g=e?"inline":"html"),b.type=g);if("inline"===g||"html"===g){if(b.content||(b.content="inline"===g?c("string"===c.type(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):d),!b.content||!b.content.length)g=null}else a||(g=null);b.group=f.group;b.isDom=e;b.href=a;"image"===g?f._loadImage():"ajax"===g?f._loadAjax():g?f._afterLoad():f._error("type")}},_error:function(a){f.hideLoading();c.extend(f.coming,{type:"html",autoSize:!0,minHeight:0,hasError:a,content:f.coming.tpl.error});f._afterLoad()},_loadImage:function(){f.imgPreload=new Image;f.imgPreload.onload=function(){this.onload=this.onerror=null;f.coming.width=this.width;f.coming.height=this.height;f._afterLoad()};f.imgPreload.onerror=function(){this.onload=this.onerror=null;f._error("image")};f.imgPreload.src=f.coming.href;f.imgPreload.width||f.showLoading()},_loadAjax:function(){f.showLoading();f.ajaxLoad=c.ajax(c.extend({},f.coming.ajax,{url:f.coming.href,error:function(a,b){"abort"!==b?f._error("ajax",a):f.hideLoading()},success:function(a,b){"success"===b&&(f.coming.content=a,f._afterLoad())}}))},_preloadImages:function(){var a=f.group,b=f.current,d=a.length,e;if(b.preload&&!(2>a.length))for(var g=1;g<=Math.min(b.preload,d-1);g++)if(e=a[(b.index+g)%d],e=c(e).attr("href")||e)(new Image).src=e},_afterLoad:function(){f.hideLoading();!f.coming||!1===f.trigger("afterLoad",f.current)?f.coming=!1:(f.isOpened?(c(".fancybox-item").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.prevMethod]()):(c(".fancybox-wrap").stop().trigger("onReset").remove(),f.trigger("afterClose")),f.unbindEvents(),f.isOpen=!1,f.current=f.coming,f.wrap=c(f.current.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-tmp "+f.current.wrapCSS).appendTo("body"),f.outer=c(".fancybox-outer",f.wrap).css("padding",f.current.padding+"px"),f.inner=c(".fancybox-inner",f.wrap),f._setContent())},_setContent:function(){var a,b,d=f.current,e=d.type;switch(e){case"inline":case"ajax":case"html":a=d.content;a instanceof c&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),c(f.wrap).bind("onReset",function(){a.appendTo("body").hide()}));d.autoSize&&(b=c('<div class="fancybox-tmp '+f.current.wrapCSS+'"></div>').appendTo("body").append(a),d.width=b.width(),d.height=b.height(),b.width(f.current.width),b.height()>d.height&&(b.width(d.width+1),d.width=b.width(),d.height=b.height()),a=b.contents().detach(),b.remove());break;case"image":a=d.tpl.image.replace("{href}",d.href);d.aspectRatio=!0;break;case"swf":a=d.tpl.swf.replace(/\{width\}/g,d.width).replace(/\{height\}/g,d.height).replace(/\{href\}/g,d.href)}if("iframe"===e){a=c(d.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",d.scrolling);d.scrolling="auto";if(d.autoSize){a.width(d.width);f.showLoading();a.data("ready",!1).appendTo(f.inner).bind({onCancel:function(){c(this).unbind();f._afterZoomOut()},load:function(){var a=c(this),b;try{this.contentWindow.document.location&&(b=a.contents().find("body").height()+12,a.height(b))}catch(e){d.autoSize=!1}!1===a.data("ready")?(f.hideLoading(),b&&(f.current.height=b),f._beforeShow(),a.data("ready",!0)):b&&f.update()}}).attr("src",d.href);return}a.attr("src",d.href)}else if("image"===e||"swf"===e)d.autoSize=!1,d.scrolling="visible";f.inner.append(a);f._beforeShow()},_beforeShow:function(){f.coming=null;f.trigger("beforeShow");f._setDimension();f.wrap.hide().removeClass("fancybox-tmp");f.bindEvents();f._preloadImages();f.transitions[f.isOpened?f.current.nextMethod:f.current.openMethod]()},_setDimension:function(){var a=f.wrap,b=f.outer,d=f.inner,e=f.current,g=f.getViewport(),h=e.margin,i=2*e.padding,j=e.width,k=e.height,l=e.maxWidth,m=e.maxHeight,n=e.minWidth,o=e.minHeight,p;g.w-=h[1]+h[3];g.h-=h[0]+h[2];-1<j.toString().indexOf("%")&&(j=(g.w-i)*parseFloat(j)/100);-1<k.toString().indexOf("%")&&(k=(g.h-i)*parseFloat(k)/100);h=j/k;j+=i;k+=i;e.fitToView&&(l=Math.min(g.w,l),m=Math.min(g.h,m));e.aspectRatio?(j>l&&(j=l,k=(j-i)/h+i),k>m&&(k=m,j=(k-i)*h+i),j<n&&(j=n,k=(j-i)/h+i),k<o&&(k=o,j=(k-i)*h+i)):(j=Math.max(n,Math.min(j,l)),k=Math.max(o,Math.min(k,m)));j=Math.round(j);k=Math.round(k);c(a.add(b).add(d)).width("auto").height("auto");d.width(j-i).height(k-i);a.width(j);p=a.height();if(j>l||p>m)for(;(j>l||p>m)&&j>n&&p>o;)k-=10,e.aspectRatio?(j=Math.round((k-i)*h+i),j<n&&(j=n,k=(j-i)/h+i)):j-=10,d.width(j-i).height(k-i),a.width(j),p=a.height();e.dim={width:j,height:p};e.canGrow=e.autoSize&&k>o&&k<m;e.canShrink=!1;e.canExpand=!1;j-i<e.width||k-i<e.height?e.canExpand=!0:(j>g.w||p>g.h)&&j>n&&k>o&&(e.canShrink=!0);a=p-i;f.innerSpace=a-d.height();f.outerSpace=a-b.height()},_getPosition:function(a){var b=f.current,c=f.getViewport(),d=b.margin,e=f.wrap.width()+d[1]+d[3],g=f.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};b.fixed&&(!a||!1===a[0])&&g<=c.h&&e<=c.w&&(h={position:"fixed",top:d[0],left:d[3]});h.top=Math.ceil(Math.max(h.top,h.top+(c.h-g)*b.topRatio))+"px";h.left=Math.ceil(Math.max(h.left,h.left+.5*(c.w-e)))+"px";return h},_afterZoomIn:function(){var a=f.current,b=a.scrolling;f.isOpen=f.isOpened=!0;f.wrap.addClass("fancybox-opened").css("overflow","visible");f.update();f.inner.css("overflow","yes"===b?"scroll":"no"===b?"hidden":b);(a.closeClick||a.nextClick)&&f.inner.css("cursor","pointer").bind("click.fb",a.nextClick?f.next:f.close);a.closeBtn&&c(a.tpl.closeBtn).appendTo(f.outer).bind("click.fb",f.close);a.arrows&&1<f.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(f.inner).bind("click.fb",f.prev),(a.loop||a.index<f.group.length-1)&&c(a.tpl.next).appendTo(f.inner).bind("click.fb",f.next));f.trigger("afterShow");f.opts.autoPlay&&!f.player.isActive&&(f.opts.autoPlay=!1,f.play())},_afterZoomOut:function(){f.trigger("afterClose");f.wrap.trigger("onReset").remove();c.extend(f,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}});f.transitions={getOrigPosition:function(){var a=f.current,b=a.element,d=a.padding,e=c(a.orig),g={},h=50,i=50;!e.length&&a.isDom&&c(b).is(":visible")&&(e=c(b).find("img:first"),e.length||(e=c(b)));e.length?(g=e.offset(),e.is("img")&&(h=e.outerWidth(),i=e.outerHeight())):(a=f.getViewport(),g.top=a.y+.5*(a.h-i),g.left=a.x+.5*(a.w-h));return g={top:Math.ceil(g.top-d)+"px",left:Math.ceil(g.left-d)+"px",width:Math.ceil(h+2*d)+"px",height:Math.ceil(i+2*d)+"px"}},step:function(a,b){var c,d,e;if("width"===b.prop||"height"===b.prop)d=e=Math.ceil(a-2*f.current.padding),"height"===b.prop&&(c=(a-b.start)/(b.end-b.start),b.start>b.end&&(c=1-c),d-=f.innerSpace*c,e-=f.outerSpace*c),f.inner[b.prop](d),f.outer[b.prop](e)},zoomIn:function(){var a=f.wrap,b=f.current,d,e;d=b.dim;"elastic"===b.openEffect?(e=c.extend({},d,f._getPosition(!0)),delete e.position,d=this.getOrigPosition(),b.openOpacity&&(d.opacity=0,e.opacity=1),f.outer.add(f.inner).width("auto").height("auto"),a.css(d).show(),a.animate(e,{duration:b.openSpeed,easing:b.openEasing,step:this.step,complete:f._afterZoomIn})):(a.css(c.extend({},d,f._getPosition())),"fade"===b.openEffect?a.fadeIn(b.openSpeed,f._afterZoomIn):(a.show(),f._afterZoomIn()))},zoomOut:function(){var a=f.wrap,b=f.current,c;"elastic"===b.closeEffect?("fixed"===a.css("position")&&a.css(f._getPosition(!0)),c=this.getOrigPosition(),b.closeOpacity&&(c.opacity=0),a.animate(c,{duration:b.closeSpeed,easing:b.closeEasing,step:this.step,complete:f._afterZoomOut})):a.fadeOut("fade"===b.closeEffect?b.closeSpeed:0,f._afterZoomOut)},changeIn:function(){var a=f.wrap,b=f.current,c;"elastic"===b.nextEffect?(c=f._getPosition(!0),c.opacity=0,c.top=parseInt(c.top,10)-200+"px",a.css(c).show().animate({opacity:1,top:"+=200px"},{duration:b.nextSpeed,easing:b.nextEasing,complete:f._afterZoomIn})):(a.css(f._getPosition()),"fade"===b.nextEffect?a.hide().fadeIn(b.nextSpeed,f._afterZoomIn):(a.show(),f._afterZoomIn()))},changeOut:function(){var a=f.wrap,b=f.current,d=function(){c(this).trigger("onReset").remove()};a.removeClass("fancybox-opened");"elastic"===b.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:b.prevSpeed,easing:b.prevEasing,complete:d}):a.fadeOut("fade"===b.prevEffect?b.prevSpeed:0,d)}};f.helpers.overlay={overlay:null,update:function(){var a,f;this.overlay.width(0).height(0);c.browser.msie?(a=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),f=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=a<f?d.width():a):a=e.width();this.overlay.width(a).height(e.height())},beforeShow:function(a){this.overlay||(a=c.extend(!0,{speedIn:"fast",closeClick:!0,opacity:1,css:{background:"black"}},a),this.overlay=c('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",f.close),d.bind("resize.fb",c.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn,a.opacity))},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){c(this).remove()});this.overlay=null}};f.helpers.title={beforeShow:function(a){var b;if(b=f.current.title)b=c('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+b+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),f.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?f.inner:"outside"===a.type?f.wrap:f.outer)}};c.fn.fancybox=function(a){var b=c(this),d=this.selector||"",g,h=function(e){var h=this,i="rel",j=h[i],k=g;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(e.preventDefault(),j||(i="data-fancybox-group",j=c(h).attr("data-fancybox-group")),j&&""!==j&&"nofollow"!==j&&(h=d.length?c(d):b,h=h.filter("["+i+'="'+j+'"]'),k=h.index(this)),a.index=k,f.open(h,a))},a=a||{};g=a.index||0;d?e.undelegate(d,"click.fb-start").delegate(d,"click.fb-start",h):b.unbind("click.fb-start").bind("click.fb-start",h);return this}})(window,document,jQuery);